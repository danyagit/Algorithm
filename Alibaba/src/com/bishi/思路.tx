1411:
只看第一行的话，只有两种大情况，
1：三个数都不一样（如1 2 3），这种情况有6种。
2：三个数中有两个一样（如 1 2 1），这种情况有6种。

当n-1行 为第一种情况时，如 1 2 3，可手算出n行的可能性：
第一种： 2 3 1     3  1  2       ――2种
第二种： 2 1 2     2  3  2       ――2种
其他情况如 1 3 2等，可以此类推。

当n-1行 为第二种情况时，如 1 2 1，可手算出n行的可能性：
第一种： 2 3 1     3  1  2            ――2种
第二种： 2 1 2     2  3  2     3  1  3    ――3种
其他情况如 2 1 2等，可以此类推。

之后就可以从上往下递推了。
设第n-1行第一种情况有n种，第二种情况有m种，那么第n行第一种情况有2n+2m种，第二种情况有2n+3m种，递推到最后一行取余即可。

851:
BFS